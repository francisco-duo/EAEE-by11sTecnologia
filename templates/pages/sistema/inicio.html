{% extends 'base_user.html' %}
{% block title %}Início{% endblock title %}
{% block main %}

<style>
    #popup-container {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        z-index: 1000;
    }

    #close-icon {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
    }
</style>

<section class="d-flex flex-column justify-content-center align-items-center" style="height: 100vh;">
    <!-- Arte de boas vindas -->
    <div class="container my-2 rounded shadow-lg bg-primary">
        <h1 class="border-bottom text-light">Bem-vindo ao EAEE - Sistema de Gestão Integrada!</h1>

        <p class="py-3 px-2 text-light">
            É um prazer recebê-lo em nossa plataforma, onde a eficiência e a facilidade caminham juntas. No EAEE,
            estamos comprometidos em proporcionar uma experiência intuitiva e completa para atender às suas
            necessidades.
        </p>
    </div>

    <div class="w-100 mt-4">

        <!-- Mural de avisos -->
        <div
            class="container d-flex flex-column justify-content-center align-items-center my-4 bg-light rounded border shadow-lg">
            <div class="d-flex w-100 justify-content-start">
                <h5>Mural de Avisos</h5>
            </div>
            {% if page_obj %}
            {% for comunicados in page_obj %}
            <!-- Popup -->

            <div class="row w-100 d-flex justify-content-center align-items-center border-top">
                <div class="col-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-envelope-exclamation" viewBox="0 0 16 16">
                        <path
                            d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2zm3.708 6.208L1 11.105V5.383zM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2z" />
                        <path
                            d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1.5a.5.5 0 0 1-1 0V11a.5.5 0 0 1 1 0m0 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0" />
                    </svg>
                </div>
                <div class="col-3">{{ comunicados.comunicado_dt }}</div>
                <div class="col-4">
                    <span>{{ comunicados.comunicado_usuario }}</span>
                </div>
                <div class="col-2">
                    <a href="{% url 'visualizar_comunicado' request.user.username comunicados.id %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-box-arrow-in-up-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M6.364 13.5a.5.5 0 0 0 .5.5H13.5a1.5 1.5 0 0 0 1.5-1.5v-10A1.5 1.5 0 0 0 13.5 1h-10A1.5 1.5 0 0 0 2 2.5v6.636a.5.5 0 1 0 1 0V2.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-.5.5H6.864a.5.5 0 0 0-.5.5" />
                            <path fill-rule="evenodd"
                                d="M11 5.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793l-8.147 8.146a.5.5 0 0 0 .708.708L10 6.707V10.5a.5.5 0 0 0 1 0z" />
                        </svg>
                    </a>


                </div>
            </div>
            {% endfor %}
            {% endif %}

        </div>
        <div class="d-flex justify-content-center">
            {% include 'partials/_pagination.html' %}
        </div>

        <!-- Campo de aniversáriantes -->
        <div
            class="container d-flex flex-column justify-content-center align-items-center my-3 bg-light rounded border shadow-lg">
            <div class="d-flex w-100 justify-content-start">
                <h5>Aniversáriantes</h5>
            </div>

            {% if aniversariantes %}
            {% for aniversariante in aniversariantes %}
            <div class="row w-100 d-flex justify-content-center align-items-center border-top">
                <div class="col-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-cake2" viewBox="0 0 16 16">
                        <path
                            d="m3.494.013-.595.79A.747.747 0 0 0 3 1.814v2.683c-.149.034-.293.07-.432.107-.702.187-1.305.418-1.745.696C.408 5.56 0 5.954 0 6.5v7c0 .546.408.94.823 1.201.44.278 1.043.51 1.745.696C3.978 15.773 5.898 16 8 16c2.102 0 4.022-.227 5.432-.603.701-.187 1.305-.418 1.745-.696.415-.261.823-.655.823-1.201v-7c0-.546-.408-.94-.823-1.201-.44-.278-1.043-.51-1.745-.696A12.418 12.418 0 0 0 13 4.496v-2.69a.747.747 0 0 0 .092-1.004l-.598-.79-.595.792A.747.747 0 0 0 12 1.813V4.3a22.03 22.03 0 0 0-2-.23V1.806a.747.747 0 0 0 .092-1.004l-.598-.79-.595.792A.747.747 0 0 0 9 1.813v2.204a28.708 28.708 0 0 0-2 0V1.806A.747.747 0 0 0 7.092.802l-.598-.79-.595.792A.747.747 0 0 0 6 1.813V4.07c-.71.05-1.383.129-2 .23V1.806A.747.747 0 0 0 4.092.802l-.598-.79Zm-.668 5.556L3 5.524v.967c.311.074.646.141 1 .201V5.315a21.05 21.05 0 0 1 2-.242v1.855c.325.024.659.042 1 .054V5.018a27.685 27.685 0 0 1 2 0v1.964c.341-.012.675-.03 1-.054V5.073c.72.054 1.393.137 2 .242v1.377c.354-.06.689-.127 1-.201v-.967l.175.045c.655.175 1.15.374 1.469.575.344.217.356.35.356.356 0 .006-.012.139-.356.356-.319.2-.814.4-1.47.575C11.87 7.78 10.041 8 8 8c-2.04 0-3.87-.221-5.174-.569-.656-.175-1.151-.374-1.47-.575C1.012 6.639 1 6.506 1 6.5c0-.006.012-.139.356-.356.319-.2.814-.4 1.47-.575ZM15 7.806v1.027l-.68.907a.938.938 0 0 1-1.17.276 1.938 1.938 0 0 0-2.236.363l-.348.348a1 1 0 0 1-1.307.092l-.06-.044a2 2 0 0 0-2.399 0l-.06.044a1 1 0 0 1-1.306-.092l-.35-.35a1.935 1.935 0 0 0-2.233-.362.935.935 0 0 1-1.168-.277L1 8.82V7.806c.42.232.956.428 1.568.591C3.978 8.773 5.898 9 8 9c2.102 0 4.022-.227 5.432-.603.612-.163 1.149-.36 1.568-.591m0 2.679V13.5c0 .006-.012.139-.356.355-.319.202-.814.401-1.47.576C11.87 14.78 10.041 15 8 15c-2.04 0-3.87-.221-5.174-.569-.656-.175-1.151-.374-1.47-.575-.344-.217-.356-.35-.356-.356v-3.02a1.935 1.935 0 0 0 2.298.43.935.935 0 0 1 1.08.175l.348.349a2 2 0 0 0 2.615.185l.059-.044a1 1 0 0 1 1.2 0l.06.044a2 2 0 0 0 2.613-.185l.348-.348a.938.938 0 0 1 1.082-.175c.781.39 1.718.208 2.297-.426Z" />
                    </svg>
                </div>
                <div class="col-4">{{ aniversariante.paciente_dt_nascimento }}</div>
                <div class="col-6">
                    <span>{{ aniversariante.paciente_nome }}</span>
                </div>
            </div>
            {% endfor %}
            {% endif %}

        </div>
    </div>
</section>

<script>
    function openPopup() {
        // Exibe o contêiner do popup
        document.getElementById('popup-container').style.display = 'block';
    }

    function closePopup() {
        // Oculta o contêiner do popup
        document.getElementById('popup-container').style.display = 'none';
    }
</script>
{% endblock %}